{% extends 'base.html' %}

{% block content %}

    <h1>{% block title %} Git Shortcuts {% endblock %}</h1>
    <h2>Credit: <a href="https://ohshitgit.com/">Oh Shit, Git!?!</a></h2>

    <h2>Oh shit, I did something terribly wrong, please tell me git has a magic time machine!?!</h2>
    <pre><code>git reflog
<span># you will see a list of every thing you've</span>
<span># done in git, across all branches!</span>
<span># each one has an index HEAD@{index}</span>
<span># find the one before you broke everything</span>
git reset HEAD@{index}
<span># magic time machine</span></code>
    </pre>

    <h2>Oh shit, I committed and immediately realized I need to make one small change!</h2>
    <pre><code><span># make your change</span>
git add . # or add individual files
git commit --amend --no-edit
<span># now your last commit contains that change!</span>
<span># WARNING: never amend public commits</span></code>
    </pre>

    <h2>Oh shit, I accidentally committed something to master that should have been on a brand new branch!</h2>
    <pre><code><span># create a new branch from the current state of master</span>
git branch some-new-branch-name
<span># remove the last commit from the master branch</span>
git reset HEAD~ --hard
git checkout some-new-branch-name
<span># your commit lives in this branch now :)</span></code>
    </pre>

    <h2>Oh shit, I accidentally committed to the wrong branch!</h2>
    <pre><code>git checkout name-of-the-correct-branch
<span># grab the last commit to master</span>
git cherry-pick master
<span># delete it from master</span>
git checkout master
git reset HEAD~ --hard</code>
    </pre>

    <h2>Oh shit, I need to undo my changes to a file!</h2>
    <pre><code><span># find a hash for a commit before the file was changed</span>
git log
<span># use the arrow keys to scroll up and down in history</span>
<span># once you've found your commit, save the hash</span>
git checkout [saved hash] -- path/to/file
<span># the old version of the file will be in your index</span>
git commit -m "Wow, you don't have to copy-paste to undo"</span></code>
    </pre>

{% endblock %}